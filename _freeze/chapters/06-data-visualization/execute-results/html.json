{
  "hash": "017b9d47d3caf2583b7a8d56f6dc9173",
  "result": {
    "engine": "knitr",
    "markdown": "# Data Visualization {#sec-visualization}\n\n\n::: {.cell}\n\n:::\n\n\n## Why Visualize Data?\n\nBefore diving into the mechanics of creating plots, consider why visualization matters. The human visual system excels at detecting patterns, spotting outliers, and perceiving relationships—abilities that summary statistics cannot replace.\n\nConsider **Anscombe's Quartet**—four datasets with nearly identical summary statistics (same mean, variance, and correlation) but completely different patterns:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Reshape Anscombe's built-in dataset\nanscombe_long <- anscombe |>\n  pivot_longer(everything(),\n               names_to = c(\".value\", \"set\"),\n               names_pattern = \"(.)(.)\")\n\nggplot(anscombe_long, aes(x = x, y = y)) +\n  geom_point(size = 2, color = \"steelblue\") +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"coral\") +\n  facet_wrap(~set, ncol = 2) +\n  labs(title = \"Same Mean, Variance, and Correlation—Different Stories\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![Anscombe's Quartet: Four datasets with identical summary statistics but very different patterns](06-data-visualization_files/figure-html/fig-anscombes-1.png){#fig-anscombes width=768}\n:::\n:::\n\n\nAll four datasets have nearly identical statistical summaries, yet they represent fundamentally different phenomena: a linear relationship, a curved relationship, an outlier-driven relationship, and a vertical cluster with one outlier. Summary statistics alone would suggest these datasets are equivalent—only visualization reveals the truth.\n\n::: {.callout-important}\n## Always Visualize Your Data\nNever trust summary statistics alone. Before running statistical tests, visualize your data to check assumptions, identify outliers, and understand the underlying patterns.\n:::\n\n## Choosing the Right Chart Type\n\nDifferent questions call for different visualizations. Matching your question to the right chart type is the first step toward effective communication:\n\n| Question | Chart Type | Why |\n|:---------|:-----------|:----|\n| How are values distributed? | Histogram, density plot | Shows shape, center, spread |\n| How do groups compare? | Box plot, bar chart | Side-by-side comparison |\n| How do two variables relate? | Scatter plot | Shows correlation, patterns |\n| How does a value change over time? | Line plot | Connects sequential observations |\n| What is the composition? | Stacked bar chart | Shows parts of a whole |\n\n::: {.callout-tip}\n## Start with the Question\nBefore creating any visualization, ask yourself: \"What question am I trying to answer?\" The chart type should emerge from the question, not the other way around.\n:::\n\n## The Grammar of Graphics\n\nData visualization is both an art and a science. A well-designed graphic can reveal patterns, communicate findings, and guide analysis in ways that tables of numbers cannot. The `ggplot2` package implements a coherent system for creating graphics based on Leland Wilkinson's \"Grammar of Graphics\"—a framework that describes the fundamental components from which all statistical graphics can be built.\n\nJust as grammar provides rules for constructing sentences from words, the grammar of graphics provides rules for constructing visualizations from components. Every graphic is composed of data, aesthetic mappings that connect variables to visual properties, and geometric objects that represent data points. Additional components like scales, statistical transformations, coordinate systems, and facets allow for sophisticated customizations.\n\n![](../images/images_4a.017.jpeg){fig-align=\"center\"}\n\n## Building Plots with ggplot2\n\nThe basic structure of a ggplot2 call begins with the `ggplot()` function, which creates a coordinate system. You add layers to this foundation using the `+` operator.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = mpg, mapping = aes(x = displ, y = hwy)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nThis creates a scatterplot of highway fuel efficiency against engine displacement using the built-in `mpg` dataset. The `aes()` function establishes the aesthetic mapping—which variables map to which visual properties. Here, `displ` maps to the x-axis and `hwy` to the y-axis. The `geom_point()` function adds a layer of points.\n\n## Aesthetic Mappings\n\nAesthetics are visual properties of the plot. Beyond position (x and y), common aesthetics include color, size, shape, and transparency (alpha). You can map variables to these aesthetics to encode additional information.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = class)) + \n  geom_point(size = 3, alpha = 0.7)\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-3-1.png){width=768}\n:::\n:::\n\n\nNow the color of each point indicates the vehicle class. The legend is created automatically. Note that aesthetics defined inside `aes()` are mapped to variables, while those defined outside (like `size = 3`) apply uniformly to all points.\n\n## Geometric Objects\n\nGeometric objects, or geoms, determine what type of plot you create. Different geoms represent data in different ways.\n\n### Scatterplots with geom_point()\n\nPoints are good for showing the relationship between two continuous variables:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### Line Plots with geom_line() and geom_smooth()\n\nLines connect points in order, useful for time series or showing trends:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  geom_smooth()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nThe `geom_smooth()` function adds a smoothed conditional mean with confidence interval.\n\n### Bar Charts with geom_bar()\n\nBar charts show counts or summaries of categorical data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = cut)) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nUse `fill` to color bars by another variable:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = cut, fill = clarity)) +\n  geom_bar(position = \"dodge\")\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-7-1.png){width=768}\n:::\n:::\n\n\n### Histograms with geom_histogram()\n\nHistograms show the distribution of a continuous variable:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(diamonds, aes(x = carat)) +\n  geom_histogram(binwidth = 0.1, fill = \"steelblue\", color = \"white\")\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n### Boxplots with geom_boxplot()\n\nBoxplots summarize distributions and highlight outliers:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-9-1.png){width=768}\n:::\n:::\n\n\n## Combining Multiple Geoms\n\nYou can layer multiple geoms to create richer visualizations:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point(aes(color = class)) +\n  geom_smooth(se = FALSE, color = \"black\")\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n## Faceting\n\nFaceting creates small multiples—separate panels for subsets of the data. This is powerful for comparing patterns across groups.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  facet_wrap(~ class, nrow = 2)\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-11-1.png){width=864}\n:::\n:::\n\n\nUse `facet_grid()` for two-variable faceting:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  facet_grid(drv ~ cyl)\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-12-1.png){width=864}\n:::\n:::\n\n\n## Labels and Titles\n\nAdd informative labels with the `labs()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy, color = class)) +\n  geom_point() +\n  geom_smooth(se = FALSE) +\n  labs(\n    title = \"Fuel Efficiency Decreases with Engine Size\",\n    subtitle = \"Data from EPA fuel economy tests\",\n    caption = \"Source: fueleconomy.gov\",\n    x = \"Engine Displacement (liters)\",\n    y = \"Highway Fuel Efficiency (mpg)\",\n    color = \"Vehicle Class\"\n  )\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-13-1.png){width=768}\n:::\n:::\n\n\n## Themes\n\nThemes control the non-data aspects of the plot—background, grid lines, fonts, etc. ggplot2 includes several built-in themes:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point() +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\nOther built-in themes include `theme_minimal()`, `theme_bw()`, `theme_light()`, and `theme_dark()`. The `ggthemes` package provides many additional themes.\n\n## Choosing the Right Plot\n\nChoosing an appropriate visualization depends on the types of variables you want to display and the message you want to convey.\n\n![](../images/Chart_flow_chart.jpeg){fig-align=\"center\"}\n\nFor one categorical variable, use bar charts. For one continuous variable, use histograms or density plots. For two continuous variables, use scatterplots. For one continuous and one categorical, use boxplots or violin plots. For two categorical variables, use stacked or grouped bar charts or heat maps.\n\n## Principles of Effective Visualization\n\nEdward Tufte articulated principles of graphical excellence that remain influential: \"Graphical excellence is that which gives to the viewer the greatest number of ideas in the shortest time with the least ink in the smallest space.\"\n\nKey principles include:\n\n**Show the data.** Above all else, make the data visible. Avoid chart junk that obscures what you are trying to communicate.\n\n**Encourage comparison.** Design graphics to facilitate comparison of different groups or conditions.\n\n**Represent magnitudes honestly.** The visual representation should be proportional to the numerical quantities being represented. Avoid truncated axes that exaggerate differences.\n\n**Minimize clutter.** Remove unnecessary grid lines, borders, and decorations. Every element should serve a purpose.\n\n**Make displays easy to interpret.** Use clear labels, appropriate colors, and logical organization.\n\n### Order Categories Meaningfully\n\nBy default, R orders categorical variables alphabetically, which is rarely the most informative arrangement. Use `reorder()` to order categories by a meaningful value:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create sample data\nsample_data <- tibble(\n  treatment = c(\"Control\", \"Low Dose\", \"Medium Dose\", \"High Dose\"),\n  response = c(12, 18, 25, 31)\n)\n\n# Default alphabetical order (not ideal)\nggplot(sample_data, aes(x = treatment, y = response)) +\n  geom_col(fill = \"steelblue\") +\n  labs(title = \"Default Order (Alphabetical)\",\n       x = \"Treatment\", y = \"Response\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Order by response value (more meaningful)\nsample_data |>\n  mutate(treatment = reorder(treatment, response)) |>\n  ggplot(aes(x = treatment, y = response)) +\n  geom_col(fill = \"steelblue\") +\n  labs(title = \"Ordered by Value (More Meaningful)\",\n       x = \"Treatment\", y = \"Response\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\nThe `reorder()` function takes a categorical variable and a numeric variable, reordering the categories by the numeric values. For horizontal bar charts (which are often easier to read), add `coord_flip()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsample_data |>\n  mutate(treatment = reorder(treatment, response)) |>\n  ggplot(aes(x = treatment, y = response)) +\n  geom_col(fill = \"steelblue\") +\n  coord_flip() +\n  labs(title = \"Horizontal Bars (Good for Long Labels)\",\n       x = NULL, y = \"Response\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n## Visual Encoding: How We Perceive Data\n\nEffective visualization depends on understanding how humans perceive visual information. We encode data using **visual cues**—properties like position, length, color, and shape. But not all visual cues are equally effective.\n\n### The Hierarchy of Visual Encoding\n\nResearch by Cleveland and McGill established that we perceive some visual encodings more accurately than others. From most to least accurate:\n\n1. **Position along a common scale** (scatterplots, dot plots)\n2. **Position along non-aligned scales** (small multiples)\n3. **Length** (bar charts)\n4. **Angle/slope** (some line charts)\n5. **Area** (bubble charts, treemaps)\n6. **Volume** (3D charts—generally avoid)\n7. **Color saturation/hue** (choropleth maps, heatmaps)\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-18-1.png){width=864}\n:::\n:::\n\n\nThis hierarchy explains why bar charts work better than pie charts for comparing quantities—we judge lengths more accurately than angles or areas.\n\n### Position Is Most Powerful\n\nWhen possible, encode your most important data using position. Scatterplots, line graphs, and dot plots all use position effectively:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Compare a pie chart vs. bar chart for the same data\nlibrary(patchwork)\n\ncategory_data <- data.frame(\n  category = c(\"Engineering\", \"Medicine\", \"Natural Sciences\", \"Social Sciences\"),\n  funding = c(35, 28, 22, 15)\n)\n\n# Bar chart - easy to compare\np_bar <- ggplot(category_data, aes(x = reorder(category, funding), y = funding)) +\n  geom_col(fill = \"steelblue\") +\n  coord_flip() +\n  labs(title = \"Bar Chart: Easy Comparison\", x = \"\", y = \"Funding (%)\") +\n  theme_minimal()\n\n# Pie chart - harder to compare\np_pie <- ggplot(category_data, aes(x = \"\", y = funding, fill = category)) +\n  geom_col(width = 1) +\n  coord_polar(\"y\") +\n  labs(title = \"Pie Chart: Harder to Compare\", fill = \"Category\") +\n  theme_void() +\n  theme(legend.position = \"bottom\")\n\np_bar + p_pie\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-19-1.png){width=768}\n:::\n:::\n\n\nThe bar chart makes it immediately obvious that Engineering has the most funding. With the pie chart, you must work harder to compare the slice sizes.\n\n## When Should Zero Be Included?\n\nA contentious issue in data visualization is whether the y-axis should always start at zero. The answer depends on the type of chart and what you're trying to show.\n\n### Bar Charts: Always Include Zero\n\nFor bar charts, the length of the bar represents the magnitude of the value. If the axis doesn't start at zero, the visual representation misrepresents the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Demonstration of misleading truncated axis\ngdp_data <- data.frame(\n  country = c(\"A\", \"B\", \"C\"),\n  gdp = c(45000, 47000, 49000)\n)\n\np_trunc <- ggplot(gdp_data, aes(x = country, y = gdp)) +\n  geom_col(fill = \"steelblue\") +\n  coord_cartesian(ylim = c(44000, 50000)) +\n  labs(title = \"Truncated Axis: Misleading\",\n       subtitle = \"Differences appear huge\",\n       y = \"GDP per capita\") +\n  theme_minimal()\n\np_full <- ggplot(gdp_data, aes(x = country, y = gdp)) +\n  geom_col(fill = \"steelblue\") +\n  labs(title = \"Full Axis: Honest\",\n       subtitle = \"Differences in proper context\",\n       y = \"GDP per capita\") +\n  theme_minimal()\n\np_trunc + p_full\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-20-1.png){width=768}\n:::\n:::\n\n\n### Scatterplots and Line Charts: Context Matters\n\nFor position-based encodings like scatterplots and line charts, zero doesn't need to be included if it would waste space and obscure meaningful variation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Temperature data - zero would be meaningless\nset.seed(42)\ntemp_data <- data.frame(\n  day = 1:30,\n  temp = rnorm(30, mean = 72, sd = 5)\n)\n\np_zero <- ggplot(temp_data, aes(x = day, y = temp)) +\n  geom_line(color = \"firebrick\") +\n  ylim(0, 100) +\n  labs(title = \"Including Zero: Wastes Space\", y = \"Temperature (°F)\") +\n  theme_minimal()\n\np_auto <- ggplot(temp_data, aes(x = day, y = temp)) +\n  geom_line(color = \"firebrick\") +\n  labs(title = \"Natural Range: Shows Variation\", y = \"Temperature (°F)\") +\n  theme_minimal()\n\np_zero + p_auto\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-21-1.png){width=768}\n:::\n:::\n\n\nThe key question is: what would zero mean for this variable? For temperature in Fahrenheit, zero has no special significance for daily weather data. For proportions or counts, zero is meaningful and often should be included.\n\n::: {.callout-tip}\n## The Zero Rule\n\n**Bar charts**: Always include zero—the bar length represents magnitude.\n**Line charts and scatterplots**: Include zero if it's meaningful; otherwise, show the natural range of the data.\n**When in doubt**: Ask whether excluding zero could mislead readers about the magnitude of differences.\n:::\n\n## Data Transformations for Visualization\n\nSometimes the raw data doesn't visualize well. Transformations can reveal patterns that are hidden in the original scale.\n\n### Log Transformations for Skewed Data\n\nMany biological variables—gene expression, population sizes, concentrations—follow approximately log-normal distributions with long right tails. Log transformation can make patterns visible:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Simulated gene expression data\nset.seed(123)\nexpression_data <- data.frame(\n  gene_a = rlnorm(200, meanlog = 2, sdlog = 1.5),\n  gene_b = rlnorm(200, meanlog = 3, sdlog = 1.2)\n)\n\np_raw <- ggplot(expression_data, aes(x = gene_a, y = gene_b)) +\n  geom_point(alpha = 0.5) +\n  labs(title = \"Original Scale\",\n       subtitle = \"Pattern obscured by outliers\",\n       x = \"Gene A Expression\", y = \"Gene B Expression\") +\n  theme_minimal()\n\np_log <- ggplot(expression_data, aes(x = gene_a, y = gene_b)) +\n  geom_point(alpha = 0.5) +\n  scale_x_log10() +\n  scale_y_log10() +\n  labs(title = \"Log Scale\",\n       subtitle = \"Relationship visible\",\n       x = \"Gene A Expression (log)\", y = \"Gene B Expression (log)\") +\n  theme_minimal()\n\np_raw + p_log\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-22-1.png){width=768}\n:::\n:::\n\n\n### When to Use Log Scales\n\nConsider log transformation when:\n\n- Data span several orders of magnitude\n- Relationships are multiplicative rather than additive\n- Distribution is strongly right-skewed\n- You're comparing fold changes or ratios\n\nBe sure to label axes clearly when using transformed scales, and remember that zero cannot be log-transformed.\n\n## Color in Data Visualization\n\nColor is a powerful but often misused encoding. Effective use of color requires understanding perception and accessibility.\n\n### Types of Color Scales\n\n**Sequential**: For ordered data from low to high. Use a single hue varying in lightness.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\n**Diverging**: For data with a meaningful midpoint. Two hues diverge from a neutral center.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n**Qualitative**: For categorical data with no inherent order. Use distinct hues.\n\n### Color Accessibility\n\nApproximately 8% of men and 0.5% of women have some form of color vision deficiency. Design for accessibility:\n\n- Avoid red-green as the only distinguishing feature\n- Use the **viridis** color scales, designed for perceptual uniformity and colorblind accessibility\n- Supplement color with shape or pattern when possible\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Good practice: color + shape\nggplot(mpg, aes(x = displ, y = hwy, color = drv, shape = drv)) +\n  geom_point(size = 3) +\n  scale_color_viridis_d() +\n  labs(title = \"Color + Shape: Accessible Design\",\n       x = \"Engine Displacement (L)\", y = \"Highway MPG\",\n       color = \"Drive Type\", shape = \"Drive Type\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-25-1.png){width=768}\n:::\n:::\n\n\n::: {.callout-warning}\n## Avoid Rainbow Color Scales\n\nRainbow color scales (like the default \"jet\" colormap in MATLAB) have serious problems:\n\n- They're not perceptually uniform—yellow appears brighter than blue\n- They create false boundaries where colors change dramatically\n- They're particularly problematic for colorblind viewers\n\nUse viridis, plasma, or other perceptually uniform scales instead.\n:::\n\n## The Power of Small Multiples\n\n**Small multiples**—the same chart repeated for different subsets of the data—are remarkably effective for comparison. Edward Tufte called them \"the best design solution for a wide range of problems in data presentation.\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Small multiples example\nggplot(gapminder::gapminder %>%\n         filter(continent != \"Oceania\"),\n       aes(x = gdpPercap, y = lifeExp)) +\n  geom_point(alpha = 0.3, size = 0.8) +\n  geom_smooth(method = \"loess\", se = FALSE, color = \"firebrick\") +\n  scale_x_log10(labels = scales::comma) +\n  facet_grid(continent ~ cut(year, breaks = c(1950, 1970, 1990, 2010),\n                              labels = c(\"1952-1970\", \"1971-1990\", \"1991-2007\"))) +\n  labs(title = \"Life Expectancy vs. GDP Over Time by Continent\",\n       x = \"GDP per Capita (log scale)\",\n       y = \"Life Expectancy (years)\") +\n  theme_minimal() +\n  theme(strip.text = element_text(size = 9))\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-26-1.png){width=864}\n:::\n:::\n\n\nSmall multiples work because:\n\n- The eye can quickly scan and compare panels\n- Each panel has identical axes, making comparison fair\n- Patterns and outliers become visible through repetition\n\n## Common Visualization Mistakes\n\nBeyond the principles discussed, watch out for these common errors:\n\n**Overplotting**: Too many points obscure patterns. Use transparency, jittering, or density plots.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Overplotting solution\nset.seed(42)\noverplot_data <- data.frame(\n  x = rnorm(5000),\n  y = rnorm(5000)\n)\n\np_over <- ggplot(overplot_data, aes(x, y)) +\n  geom_point() +\n  labs(title = \"Overplotting: Points Hidden\") +\n  theme_minimal()\n\np_alpha <- ggplot(overplot_data, aes(x, y)) +\n  geom_point(alpha = 0.1) +\n  labs(title = \"Transparency: Density Visible\") +\n  theme_minimal()\n\np_over + p_alpha\n```\n\n::: {.cell-output-display}\n![](06-data-visualization_files/figure-html/unnamed-chunk-27-1.png){width=768}\n:::\n:::\n\n\n**Dual y-axes**: These are almost always misleading. The relationship between the two scales is arbitrary and can be manipulated to show any desired pattern.\n\n**3D effects**: Three-dimensional bar charts, pie charts, and similar decorations distort perception without adding information. Avoid them.\n\n**Excessive decoration**: Gridlines, borders, backgrounds, and other \"chart junk\" should be minimized. Focus attention on the data.\n\n## Examples of Poor Graphics\n\nRecognizing bad graphics helps you avoid making them.\n\n![](../images/images_4a.003.jpeg){fig-align=\"center\"}\n\nTicker-tape style displays make it hard to see patterns. Lines connecting unrelated points mislead. Pie charts make comparisons difficult because humans are poor at judging angles. Three-dimensional effects distort perception without adding information.\n\n![](../images/images_4a.005.jpeg){fig-align=\"center\"}\n\n## A Famous Good Example\n\nCharles Minard's 1869 map of Napoleon's Russian campaign is often cited as one of the best statistical graphics ever made. It displays six variables: the size of the army, its location (latitude and longitude), direction of movement, temperature, and date—all in a single coherent image.\n\n![](../images/images_4a.009.jpeg){fig-align=\"center\"}\n\nThe graphic tells a story. You can see the army shrink as it advances, the devastating losses during the retreat, and the correlation with plummeting temperatures. No legend is needed; the meaning is immediately apparent.\n\n## Saving Plots\n\nSave plots with `ggsave()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create and save a plot\np <- ggplot(mpg, aes(x = displ, y = hwy)) +\n  geom_point()\n\nggsave(\"my_plot.png\", p, width = 8, height = 6, dpi = 300)\nggsave(\"my_plot.pdf\", p, width = 8, height = 6)\n```\n:::\n\n\nThe function infers the format from the file extension. Specify dimensions and resolution for publication-quality output.\n\n## Practice Exercises\n\nThe best way to learn ggplot2 is to use it. Take a dataset you care about and try different visualizations. Experiment with aesthetics, geoms, and facets. Read error messages carefully—they often point directly to the problem. The ggplot2 documentation and the R Graph Gallery (r-graph-gallery.com) provide extensive examples to learn from.\n\nFor structured practice with visualization concepts, see @sec-ex-viz in the Practice Exercises appendix. The exercises include:\n\n- Creating basic ggplot2 visualizations\n- Working with different geometric objects\n- Mapping variables to aesthetics\n- Creating faceted plots (small multiples)\n- Combining layers for complex visualizations\n- Creating publication-quality figures\n",
    "supporting": [
      "06-data-visualization_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}